<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>WSR88-D Coverage</title>  
        <link rel="stylesheet" href="styles.css">

        <!-- Proj4js for reprojection -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/proj4js/2.8.1/proj4.js"></script>

        <!-- Google Maps API -->
        <script
            src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCTYZ2ogy4XY8GmiIpiw89OpE9iRk5MnxM&callback=initMap&libraries=marker"
            async defer>
        </script>
    </head>
    <body>
        <div id="map"></div>

        <div class="sidebar">
            <button class="sidebar-btn" onclick="toggleWindow('radar-settings')">Radar Settings</button>
            <button class="sidebar-btn" onclick="toggleWindow('population-settings')">Population Settings</button>
            <button class="sidebar-btn" onclick="toggleWindow('information')">Information</button>
        </div>

        <!-- Popup window for each sidebar button, initially not visible -->
        <div id="radar-settings" class="sidebar-window">
            <h3>Radar Settings</h3>

            <div class="settings-input-container">
                <label for="aglThreshold-input" class="settings-label">AGL Threshold (ft):</label>
                <input type="number" id="aglThreshold-input" class="settings-input" min="0" placeholder="e.g. 3000">
            </div>

            <div class="settings-input-container">
                <label for="towerHeight-input" class="settings-label">Tower Height (ft):</label>
                <input type="number" id="towerHeight-input" class="settings-input" min="0" placeholder="e.g. 100">
            </div>

            <div class="settings-input-container">
                <label class="settings-label">Elevation angle(s):</label>
                <div class="settings-input">
                    <div id="elevation-angle-checkboxes">
                        <span>0.5°</span><input type="checkbox" value="0.5" checked>
                        <span>0.9°</span><input type="checkbox" value="0.9" checked>
                        <span>1.3°</span><input type="checkbox" value="1.3" checked>
                        <span>1.8°</span><input type="checkbox" value="1.8" checked><br>
                        <span>2.4°</span><input type="checkbox" value="2.4" checked>
                        <span>3.1°</span><input type="checkbox" value="3.1" checked>
                        <span>4.0°</span><input type="checkbox" value="4.0" checked>
                        <span>5.1°</span><input type="checkbox" value="5.1" checked><br>
                        <span>6.4°</span><input type="checkbox" value="6.4" checked>
                        <span>8.0°</span><input type="checkbox" value="8.0" checked>
                        <span>10.0°</span><input type="checkbox" value="10.0" checked><br>
                        <span>12.5°</span><input type="checkbox" value="12.5" checked>
                        <span>15.6°</span><input type="checkbox" value="15.6" checked>
                        <span>19.5°</span><input type="checkbox" value="19.5" checked>
                    </div>
                </div>
            </div>

            <div class="settings-input-container">
                <label for="beamModel-input" class="settings-label">Beam model:</label>
                <select id="beamModel-input" class="settings-input">
                    <option value="radar_beam_1_21.npz">1.21</option>
                    <option value="radar_beam_4_3.npz">4/3</option>
                </select>
            </div>
        </div>

        <div id="population-settings" class="sidebar-window">
            <h3>Population Settings</h3>
            
            <div class="settings-input-container">
                <label for="popThreshold-input" class="settings-label">Population threshold (0-100,000):</label>
                <input type="number" id="popThreshold-input" class="settings-input" min="0" max="100000" step="1" required>
                <button id="popThreshold-submit" class="settings-input">Enter</button>
                <button id="popThreshold-clear" class="settings-input">Clear</button>
            </div>
        </div>

        <div id="information" class="sidebar-window">
            <h3>Information</h3>
        </div>


        <!-- Loading spinner, shown after request is sent and before coverage loads on map -->
         <div id="loading-spinner" style="display: none;">
            <div class="spinner"></div>
        </div>

        <script src="markerCollection.js"></script>
        <script src="map.js"></script>
      </body>
</html>